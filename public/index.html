<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rivals 2 Lobby</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="app">
  <header class="top-bar">
    <div class="logo">
      <span class="logo-icon">âš¡</span>
      <span class="logo-text">Rivals 2</span>
    </div>
    <div class="top-right">
      <span class="pill pill-online"><span class="dot"></span>Connected</span>
      <button id="logout-btn" class="pill pill-ghost hidden">Logout</button>
    </div>
  </header>

  <main class="main">
    <section id="lobby-panel" class="card card-lobby">
      <div class="card-header">
        <h1>Rivals 2 Lobby</h1>
        <p>Party up, complete tasks, and jump into fast-paced duels.</p>
      </div>

      <div class="card-body lobby-layout">
        <aside class="tasks-panel">
          <h3>Daily Tasks</h3>
          <div class="task"><div class="task-title">Play duels</div><div class="task-bar"><div id="task-play-fill" class="task-bar-fill"></div></div><div class="task-meta"><span id="task-play-text">0 / 5</span></div></div>
          <div class="task"><div class="task-title">Eliminations</div><div class="task-bar"><div id="task-elim-fill" class="task-bar-fill"></div></div><div class="task-meta"><span id="task-elim-text">0 / 15</span></div></div>
          <div class="task"><div class="task-title">Win a duel</div><div class="task-bar"><div id="task-win-fill" class="task-bar-fill"></div></div><div class="task-meta"><span id="task-win-text">0 / 2</span></div></div>
        </aside>

        <div class="lobby-main">

          <!-- AUTH PANEL -->
          <div id="auth-panel">
            <div class="player-name-row"><label>Username</label><div class="input-wrapper"><input id="authUser" placeholder="Username" /></div></div>
            <div class="player-name-row"><label>Password</label><div class="input-wrapper"><input id="authPass" type="password" placeholder="Password" /></div></div>
            <div id="confirmRow" class="player-name-row hidden"><label>Confirm Password</label><div class="input-wrapper"><input id="auth-confirm" type="password" placeholder="Confirm password" /></div></div>
            <div id="emailRow" class="player-name-row hidden"><label>Email (optional)</label><div class="input-wrapper"><input id="auth-email" placeholder="Email" /></div></div>

            <div style="display:flex; gap:8px; margin-top:8px;">
              <button id="loginBtn" class="btn join-btn">Login</button>
              <button id="registerBtn" class="btn join-btn">Register</button>
              <button id="forgot-btn" class="btn join-btn hidden">Forgot?</button>
            </div>
            <div id="authError" class="alert hidden"></div>
          </div>

          <div class="player-name-row"><label>Player name</label><div class="input-wrapper"><input id="playerName" maxlength="20" placeholder="Type your nickname" /></div></div>
          <div class="play-row">
            <button id="createRoomBtn" class="btn play-btn">Play (Create Room)</button>
            <div class="join-area">
              <span class="join-label">Join by code</span>
              <div class="input-wrapper join-wrapper">
                <input id="roomCode" maxlength="5" placeholder="ABCDE" />
                <button id="joinRoomBtn" class="btn join-btn">Join</button>
              </div>
            </div>
          </div>

          <div id="roomMeta" class="room-meta"></div>
          <div class="players-card">
            <div class="players-header"><span>Players in room</span><button id="startGameBtn" class="btn start-btn" disabled>Start Game</button></div>
            <ul id="playersList"></ul>
          </div>
          <div id="lobbyError" class="alert hidden"></div>
        </div>
      </div>
    </section>
  </main>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
</body>
</html>
